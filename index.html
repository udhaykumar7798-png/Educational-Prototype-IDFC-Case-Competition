<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IDFC Mortgage Prototype</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="idfc-header">
    <h1>IDFC FIRST Mortgage Solutions</h1>
    <nav>
      <button onclick="switchRole('consumer')">Consumer</button>
      <button onclick="switchRole('officer')">Loan Officer</button>
      <button onclick="switchRole('connector')">Field Connector</button>
    </nav>
  </header>
  
  <!-- Persona onboarding with context -->
  <section id="consumer-view" class="active">
    <h2>Apply for Loan (Instant Valuation)</h2>
    <form id="consumer-form">
      <label>Mobile/Aadhaar <input id="input-mobile" type="text" maxlength="12" required /></label>
      <label>Name <input id="input-name" type="text" required /></label>
      <label>Property Address/Pin <input id="input-address" type="text" required /></label>
      <label>Type 
        <select id="input-type">
          <option>Apartment</option><option>Plot</option><option>Land</option>
        </select>
      </label>
      <label>Circle Rate <input id="input-circle" type="number" required /></label>
      <label>Registry Data <input id="input-registry" type="text" placeholder="Upload or paste registry details" /></label>
      <label>Photo Upload <input id="input-photo" type="file" accept="image/*" /></label>
      <label>Account Aggregator (AA) consent <input type="checkbox" id="input-consent" required /> I consent to sharing
        <span class="tooltip">Why required? For instant credit scoring and regulatory compliance</span>
      </label>
      <button type="button" onclick="triggerValuation()">Instant Ballpark Valuation</button>
    </form>
    <div id="valuation-result"></div>
    <div id="rate-result"></div>
    <div id="rejection-flow"></div>
  </section>

  <!-- Loan officer dashboard: applications, KPIs, and risk scores -->
  <section id="officer-view" class="hidden">
    <h2>Loan Officer Dashboard</h2>
    <div id="dashboard-summary">
      <div class="stat-card">Applications: <span id="app-count"></span></div>
      <div class="stat-card">Avg. TAT: <span id="tat-avg"></span> hrs</div>
      <div class="stat-card">GNPA Impact <span id="gnpa-score"></span></div>
      <div class="stat-card">New-to-bank: <span id="ntb-count"></span></div>
    </div>
    <table id="app-table">
      <thead>
        <tr>
          <th>Name</th><th>Type</th><th>Circle Rate</th><th>Registry</th><th>Consent</th><th>Status</th><th>Due Diligence</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- Connector tab for geo-tag and compliance -->
  <section id="connector-view" class="hidden">
    <h2>Field Verification/Connector</h2>
    <form id="connector-form">
      <label>Geo-tag Property <input id="connector-geo" type="text" placeholder="GPS Location (auto-capture/simulated)" /></label>
      <label>Upload Photo <input id="connector-photo" type="file" accept="image/*" /></label>
      <label>Boundary/Legal Documents <input id="connector-doc" type="file" /></label>
      <button type="button" onclick="submitConnectorData()">Submit for Verification</button>
    </form>
    <div id="connector-status"></div>
  </section>

  <!-- Generic modal for dynamic feedback, retention funnel -->
  <div id="modal" class="modal hidden"></div>

  <footer>
    <div class="bank-badge">
      Digital lending demo â€“ RBI guidelines enforced. Consent tracked. Geo-tag registry integration.
    </div>
  </footer>
  <script src="app.js"></script>
</body>
</html>
